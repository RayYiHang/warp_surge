# 🌐 直接访问 warp.local 使用指南

## 🎯 一键访问

**现在你可以直接在浏览器中访问 `http://warp.local` 来管理Warp账户！**

无需下载文件，无需双击HTML，就像访问普通网站一样简单。

## ⚡ 快速开始

### 1. 确保模块已安装
- 在Surge中启用 "Warp Account Manager" 模块
- 确保模块是最新版本

### 2. 直接访问
打开浏览器，输入：
```
http://warp.local
```

### 3. 开始管理
- ✨ 享受完整的Web管理界面
- 📱 响应式设计，支持手机和电脑
- 🚀 一键生成管理命令

## 🔧 技术原理

### 工作流程
1. **域名解析**：`warp.local` → `127.0.0.1`（本地）
2. **请求拦截**：Surge拦截对 `warp.local` 的HTTP请求
3. **动态响应**：脚本动态生成完整的管理界面HTML
4. **交互操作**：界面生成相应的Surge命令

### 优势对比

| 访问方式 | 优点 | 缺点 |
|---------|------|------|
| **warp.local** (新) | ✅ 无需下载文件<br>✅ 像网站一样访问<br>✅ 自动更新 | 需要Surge模块支持 |
| 本地HTML文件 | ✅ 离线可用<br>✅ 不依赖网络 | 需要下载文件<br>需要手动更新 |
| Surge控制台 | ✅ 直接执行<br>✅ 无需界面 | 操作复杂<br>易出错 |

## 📱 完整功能

### 账户管理
- ➕ **添加账户**：支持JSON格式验证
- 👥 **查看账户**：一键生成查看命令
- 🔄 **切换账户**：快速切换活跃账户
- 🗑️ **删除账户**：安全删除不需要的账户

### 数据管理
- 💾 **数据备份**：一键备份所有账户数据
- 📥 **数据恢复**：支持从备份恢复
- 📊 **统计信息**：查看账户使用统计
- ⚙️ **系统设置**：配置模块参数

### 系统工具
- 🔧 **系统测试**：检测模块工作状态
- 📋 **命令生成器**：自动生成管理命令
- 🛠️ **故障诊断**：快速定位问题
- 📖 **使用帮助**：内置详细说明

## 🎮 使用体验

### 界面特色
- 🎨 **现代化设计**：渐变背景，卡片式布局
- 📱 **响应式**：完美适配手机和电脑
- ⚡ **即时反馈**：操作结果实时显示
- 🎯 **一键复制**：命令自动复制到剪贴板

### 操作流程
1. **访问** → 在浏览器输入 `warp.local`
2. **添加** → 粘贴账户数据，点击添加
3. **复制** → 命令自动复制到剪贴板
4. **执行** → 在Surge控制台粘贴执行
5. **完成** → 账户管理成功！

## 🔍 获取账户数据

### Chrome开发者工具方法
```
1. 登录 https://app.warp.dev
2. 按 F12 打开开发者工具
3. 点击 Application 标签
4. 选择 Storage → Local Storage → app.warp.dev
5. 找到包含 email 和 stsTokenManager 的数据
6. 复制完整的JSON数据
```

### 快速获取代码
```javascript
// 在Chrome控制台执行此代码
const authData = JSON.parse(localStorage.getItem('authUser') || '{}');
console.log(JSON.stringify(authData, null, 2));
```

### 数据格式示例
```json
{
  "email": "your-email@example.com",
  "stsTokenManager": {
    "accessToken": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "AQB0h5m-7k8j9l2p3q4r5s6t7u8v9w0x",
    "expirationTime": 1704067200000
  }
}
```

## 🛠️ 故障排除

### 无法访问 warp.local
**问题**：浏览器显示无法连接
**解决方案**：
1. 确认Surge模块已启用
2. 检查模块是否为最新版本
3. 重启Surge应用
4. 清除浏览器缓存

### 命令未执行
**问题**：复制命令后在Surge控制台执行出错
**解决方案**：
1. 确保模块正确加载
2. 检查命令格式是否正确
3. 重启Surge后重试

### 账户数据格式错误
**问题**：添加账户时提示格式错误
**解决方案**：
1. 使用在线JSON格式验证工具
2. 确保包含必需字段：email, stsTokenManager
3. 检查accessToken和refreshToken是否存在

### 数据丢失
**问题**：添加的账户数据消失
**解决方案**：
1. 检查Surge的持久存储权限
2. 确认模块未被禁用
3. 尝试重新添加账户

## ⚙️ 高级配置

### 支持的访问地址
- `http://warp.local` (主要)
- `http://warp-manager.local` (备用)
- `http://manager.warp.local` (备用)

### 自定义域名
如果需要使用其他域名，可以修改模块配置：
```
[Host]
127.0.0.1 your-custom-domain.local
```

### HTTPS支持
虽然当前仅支持HTTP，但可以配置HTTPS证书来支持HTTPS访问。

## 📊 性能优势

### 与传统方式对比

| 特性 | warp.local | 本地HTML | Surge控制台 |
|------|-----------|----------|------------|
| 访问速度 | ⚡⚡⚡ | ⚡⚡ | ⚡ |
| 操作便利性 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 界面友好度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐ |
| 错误率 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ |
| 更新便利性 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |

### 资源占用
- **内存占用**：极低，仅加载时占用
- **网络带宽**：几乎为零，本地响应
- **CPU使用**：响应式加载，按需加载

## 🚀 未来更新

### 计划功能
- [ ] HTTPS支持
- [ ] 多主题切换
- [ ] 账户健康监控
- [ ] 自动Token刷新
- [ ] 批量操作
- [ ] 数据导出格式选择

### 版本历史
- **v1.0** - 基础warp.local访问支持
- **v1.1** - 增加命令自动复制
- **v1.2** - 优化界面响应式设计
- **v1.3** - 添加高级功能支持

## 💡 使用技巧

### 快捷操作
- **Ctrl+Enter**：在账户管理页面快速添加账户
- **双击命令**：快速复制到剪贴板
- **ESC键**：关闭对话框

### 最佳实践
1. **定期备份**：每周备份一次账户数据
2. **安全使用**：不要在公共电脑使用
3. **及时更新**：保持模块为最新版本
4. **数据验证**：添加账户前验证JSON格式

### 安全建议
- 使用强密码保护Surge
- 定期更新模块
- 不要分享账户数据
- 在安全网络环境下使用

## 📞 技术支持

如果遇到问题：

1. **查看状态**：在Surge控制台执行 `console.log('模块状态', typeof accountManager)`
2. **检查日志**：查看Surge的错误日志
3. **重新安装**：删除模块后重新安装
4. **联系支持**：在GitHub提交Issue

---

**🎉 现在就开始体验吧！直接在浏览器访问 `http://warp.local`**

享受现代化的Warp账户管理体验！